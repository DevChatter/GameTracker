@page
@model DevChatter.GameTracker.Pages.GameRecords.IndexModel
@{
    ViewData["Title"] = "Index";
}

<h2>Index</h2>

<hr />

<div id="app" class="row">
    <div class="col-md-4">
        <form method="post">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <div class="form-group">

                <label asp-for="GameRecord.GameId" class="control-label"></label>

                <select v-model="gamePlayed">
                    <option v-for="game in games" v-bind:value="game">
                        {{ game.title }}
                    </option>
                </select>
                <span>Selected: {{ gamePlayed.title }}</span>
                <span asp-validation-for="GameRecord.GameId" class="text-danger"></span>
            </div>
            <div class="form-group">
                <input type="submit" value="Create" class="btn btn-default" />
            </div>
        </form>
    </div>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

    <script>
        var app = new Vue({
            el: '#app',
            data: {
                gamePlayed: {},
                players: [
                    { id: '', FirstName: '', LastName: '' },
                    { id: '', FirstName: '', LastName: '' }
                ],
                games: [
                    { title: 'Game Number 1', id: '1' },
                    { title: 'Game Number 2', id: '2' },
                    { title: 'Game Number 3', id: '3' }
                ]
            }
        })
    </script>
}


